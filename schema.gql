# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type PaymentModel {
  id: String!
  auditCreatedDateTime: DateTime!
  auditCreatedBy: String!
  auditModifiedDateTime: DateTime
  auditModifiedBy: String
  auditDeletedDateTime: DateTime
  auditDeletedBy: String
  instalmentId: String!
  paymentAmount: Float!
  paymentDate: String!
  paymentMethod: String!
  paymentStatus: String!
  transactionId: String!
  instalment: InstalmentScheduleModel!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type InstalmentScheduleModel {
  id: String!
  auditCreatedDateTime: DateTime!
  auditCreatedBy: String!
  auditModifiedDateTime: DateTime
  auditModifiedBy: String
  auditDeletedDateTime: DateTime
  auditDeletedBy: String
  loanId: String!
  instalmentNumber: Float!
  dueDate: String!
  amountDue: Float!
  status: String!
  loan: LoanModel!
  payments: [PaymentModel!]
}

type LoanModel {
  id: String!
  auditCreatedDateTime: DateTime!
  auditCreatedBy: String!
  auditModifiedDateTime: DateTime
  auditModifiedBy: String
  auditDeletedDateTime: DateTime
  auditDeletedBy: String
  borrowerId: String!
  loanAmount: Float!
  totalInstalments: Float!
  outStandingAmount: Float!
  loanStartDate: String!
  loanStatus: String!
  remark: String!
  proofLink: String!
  borrower: BorrowerModel!
  instalmentSchedules: [InstalmentScheduleModel!]
}

type BorrowerModel {
  id: String!
  auditCreatedDateTime: DateTime!
  auditCreatedBy: String!
  auditModifiedDateTime: DateTime
  auditModifiedBy: String
  auditDeletedDateTime: DateTime
  auditDeletedBy: String
  name: String!
  phoneNumber: String!
  loans: [LoanModel!]
}

type InstalmentDto {
  id: String!
  instalmentNumber: Float!
  dueDate: String!
  amountDue: Float!
  status: String!
}

type TrackUserLoanResponseDto {
  loanAmount: String!
  outstandingAmount: String!
  currentMonthDue: String!
  carryOverAmount: Float!
  instalments: [InstalmentDto!]!
}

type NewBorrowerResponseDto {
  id: String!
  name: String!
  phoneNumber: String!
}

type LoanListDto {
  loanAmount: Float!
  loanStartDate: String!
  loanStatus: String!
  totalInstalments: Float!
  outStandingAmount: Float!
  remark: String
}

type BorrowerListResponseDto {
  name: String!
  phoneNumber: String!
  loans: [LoanListDto!]!
}

type PaymentListResponse {
  instalmentId: String!
  date: String!
  amount: Float!
  method: String!
  status: String!
  transactionId: String!
}

type Bill {
  id: String!
  url: String!
  status: String!
}

type Query {
  getBorrowerList: [BorrowerListResponseDto!]!
  trackUserLoan(trackUserLoanInput: TrackUserLoanInput!): TrackUserLoanResponseDto!
  getPaymentList: [PaymentListResponse!]!
  getBillStatus(billStatusInput: BillStatusInput!): Bill!
}

input TrackUserLoanInput {
  phoneNumber: String!
}

input BillStatusInput {
  billId: String!
}

type Mutation {
  addBorrower(addBorrowerInput: AddBorrowerInput!): NewBorrowerResponseDto!
  createBill(createBillInput: CreateBillInput!): Bill!
}

input AddBorrowerInput {
  name: String!
  phoneNumber: String!
  loanAmount: Float!
  totalInstalments: Float!
  remark: String!
  proofLink: String
}

input CreateBillInput {
  instalmentId: String!
  callbackUrl: String!
  redirectUrl: String!
}